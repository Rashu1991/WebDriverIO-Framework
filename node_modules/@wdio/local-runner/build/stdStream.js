"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _stream = require("stream");

var _utils = require("./utils");

class RunnerStream extends _stream.Transform {
  constructor() {
    super();
    this.on('pipe', () => {
      (0, _utils.removeLastListener)(this, 'close');
      (0, _utils.removeLastListener)(this, 'drain');
      (0, _utils.removeLastListener)(this, 'error');
      (0, _utils.removeLastListener)(this, 'finish');
      (0, _utils.removeLastListener)(this, 'unpipe');
    });
  }

  _transform(chunk, encoding, callback) {
    callback(null, chunk);
  }

  _final(callback) {
    this.unpipe();
    callback();
  }

}

exports.default = RunnerStream;